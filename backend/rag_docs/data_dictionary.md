# Data Dictionary

## Overview
This document explains each column and field in the Legal Outcome Prediction System dataset.

**Important**: This system predicts outcomes for **APPEALED CASES**, not trial cases. All outcomes refer to appeal results.

## Core Columns

### case_name
- **Type**: String
- **Description**: The official name of the legal case (e.g., "Smith v. Jones", "Doe v. State")
- **Source**: Merged from CourtListener dockets
- **Usage**: Used for case identification and display in results

### docket_id
- **Type**: String (numeric as string)
- **Description**: Unique identifier linking docket metadata to opinion text
- **Source**: Primary key from CourtListener dockets table
- **Usage**: Used to merge docket and opinion datasets
- **Example**: "71884389"

### outcome
- **Type**: String
- **Description**: Original appeal outcome label from the opinion
- **Possible Values** (Appeal Outcomes): 
  - "AFFIRMED" - Lower court decision upheld on appeal
  - "REVERSED" - Lower court decision overturned on appeal
  - "VACATED" - Appeal decision nullified
  - "REMANDED" - Case sent back to lower court from appeal
  - "GRANTED" - Appeal request approved (e.g., certiorari granted)
  - "DISMISSED" - Appeal terminated without decision
  - "DENIED" - Appeal request rejected
- **Source**: From opinions_checkpoint.csv
- **Usage**: Used to create binary win/lose labels for appeal outcomes

### clean_text
- **Type**: String
- **Description**: Processed legal opinion text with outcome-revealing words and procedural boilerplate removed
- **Processing Steps**:
  1. Remove outcome words (AFFIRMED, REVERSED, etc.)
  2. Tail-scrubbing: Clean last 2000 characters
  3. Remove procedural patterns ("Judgment vacated...", "Certiorari granted...")
  4. Normalize whitespace
- **Source**: Derived from opinion_text
- **Usage**: Primary input for embedding generation and model training

### opinion_text
- **Type**: String (long text)
- **Description**: Raw legal opinion text before cleaning
- **Source**: From opinions_checkpoint.csv
- **Usage**: Source material for clean_text generation

### court
- **Type**: String (URL or identifier)
- **Description**: Court identifier where the case was heard
- **Examples**: 
  - "scotus" - Supreme Court of the United States
  - "ca9" - 9th Circuit Court of Appeals
  - "ca2" - 2nd Circuit Court of Appeals
  - "nyed" - New York Eastern District
- **Source**: From CourtListener dockets
- **Usage**: Metadata for case context

### winlose
- **Type**: String (categorical)
- **Description**: Binary label derived from appeal outcome
- **Values** (Appeal Outcomes): 
  - "win" - Successful appeals (reversed or granted)
  - "lose" - Unsuccessful appeals (affirmed, denied, dismissed, or remanded)
- **Source**: Derived from outcome field
- **Usage**: Target variable for model training (predicts appeal success/failure)

## Metadata Columns (Optional, from API)

### jurisdiction
- **Type**: String
- **Description**: Type of jurisdiction (federal or state)
- **Examples**: "federal", "state"
- **Usage**: Optional context for predictions

### nature_of_suit
- **Type**: String
- **Description**: Classification of the legal matter
- **Examples**: "civil rights", "contract", "tort", "employment", "criminal"
- **Usage**: Optional context for predictions

### year
- **Type**: Integer
- **Description**: Year the case was filed or decided
- **Usage**: Optional temporal context

## API Response Fields

### Prediction Response
- **prediction**: String ("win" or "lose")
- **probability**: Float (0.0 to 1.0) - Probability of predicted class
- **confidence**: Float (0.0 to 1.0) - Model confidence score
- **top_features**: Array of objects (internal use only, not shown in explanations)
  - **dimension**: Integer - Embedding feature index
  - **importance**: Float - Feature importance score
  - **contribution**: Float - Positive (supports win) or negative (supports lose)
- **explanation**: String - AI-generated, user-friendly explanation (GPT-4o-mini)

### Similar Cases Response
- **similar_cases**: Array of objects
  - **case_name**: String - Name of similar case
  - **snippet**: String - Text excerpt from case
  - **similarity**: Float (0.0 to 1.0) - Cosine similarity score

### RAG Response
- **answer**: String - Answer generated by GPT-4o-mini based on documentation
- **retrieved_docs**: Array of objects
  - **source**: String - Documentation file name
  - **section**: String - Section within document
  - **content**: String - Retrieved text chunk
  - **similarity**: Float - Relevance score

## Data Quality Notes

- Missing values in optional fields are acceptable
- All text fields are cleaned before use
- Outcome labels are standardized to uppercase in source data
- Case names may contain special characters and abbreviations
- Technical feature details are kept internal and not exposed in user-facing explanations

